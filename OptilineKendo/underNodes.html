<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        
    </head>
    <body>
        <!-- The following page demonstrates basic user interaction. -->
        <div data-role="page" id="page1">
            <div class="header">
                <h1>Undernoder</h1>
            </div>
            <div class="nav">
                <ul id="underNodes" class="schneiderList">
                    <script>
                        var text = "";
                        var tempArr = [""];
                        var size = 22;
                        var pad = 0;
                        var createNodeAble = true;
                        var createPgroupAble = true;
                        for(var i = 0; i < jsonProducts.length; i++){
                             createNodeAble = true;
                             size = 22;
                             pad = 0;
                             for(var j = 0; j < tempArr.length; j++){
                                 if (jsonProducts[i].nodeName == tempArr[j]){
                                     createNodeAble = false;
                                 }                              
                             }
                             if (jsonProducts[i].nodeParentId == underNodeId && createNodeAble == true) {
                                 if (jsonProducts[i].nodeName.length > 20 && jsonProducts[i].nodeName.length <= 25) {
                                     size = 20;
                                     pad = 22 - size;
                                 }else if (jsonProducts[i].nodeName.length > 25 && jsonProducts[i].nodeName.length <= 30) {
                                     size = 17;
                                     pad = 22 - size;
                                 }else if (jsonProducts[i].nodeName.length > 30 && jsonProducts[i].nodeName.length <= 35) {
                                     size = 14;
                                     pad = 22 - size;
                                 }else if (jsonProducts[i].nodeName.length > 35 && jsonProducts[i].nodeName.length <= 40) {
                                     size = 11;
                                     pad = 22 - size;
                                 }
                                 text += '<li style="margin-top: ' + (-15 + pad) + 'px;"><a href="/productGroups.html" id="' + jsonProducts[i].nodeId + '" onclick="setNextUnderNodeId(id)" data-transition="slide"><h2 style="font-size:' + size + 'px; padding-top:' + pad + 'px">' + jsonProducts[i].nodeName + '</h2></a></li>';   
                                 tempArr[tempArr.length] = jsonProducts[i].nodeName.toString();
                             }      
                        }
                                     
                        for(var i = 0; i < jsonProducts.length; i++){
                             createPgroupAble = true;
                             size = 22;
                             pad = 0;        
                             for(var j = 0; j < tempArr.length; j++){
                                 if (jsonProducts[i].productGroupName == tempArr[j]){
                                     createPgroupAble = false;
                                 }
                             }
                             if (jsonProducts[i].nodeId == underNodeId && createPgroupAble == true) {
                                 if (jsonProducts[i].productGroupName.length > 20 && jsonProducts[i].productGroupName.length <= 25) {
                                     size = 20;
                                     pad = 22 - size;
                                 }else if (jsonProducts[i].productGroupName.length > 25 && jsonProducts[i].productGroupName.length <= 30) {
                                     size = 17;
                                     pad = 22 - size;
                                 }else if (jsonProducts[i].productGroupName.length > 30 && jsonProducts[i].productGroupName.length <= 35) {
                                     size = 14;
                                     pad = 22 - size;
                                 }else if (jsonProducts[i].productGroupName.length > 35 && jsonProducts[i].productGroupName.length <= 40) {
                                     size = 11;
                                     pad = 22 - size;
                                 }    
                                 text += '<li style="margin-top: ' + (-15 + pad) + 'px;"><a href="/products.html" id="' + jsonProducts[i].productGroupId + '" onclick="setPgroupId(id)" data-transition="slide"><h2 style="font-size:' + size + 'px; padding-top:' + pad + 'px;">' + jsonProducts[i].productGroupName + '</h2></a></li>';   
                                 tempArr[tempArr.length] = jsonProducts[i].productGroupName.toString();
                             }
                        }
                                     
                        document.getElementById("underNodes").innerHTML=text;             
                    </script>
                </ul>
            </div>
            <ul class="backButton">
                <li><a href="/nodes.html"><h2>Tillbaka</h2></a></li>
            </ul>  
            <div data-role="footer" data-position="fixed" data-id="oneFooter">
                <ul class="footMenu">
                    <li><a href="#menu"><img src="images/home.png"/></a></li>
                    <li><a href="mylist.html"><img src="images/mylist.png"/></a></li>
                    <li><a href="schneiderpasset.html"><img src="images/schneiderpasset.png"/></a></li>
                </ul>
            </div>
        </div>
    </body>
</html>